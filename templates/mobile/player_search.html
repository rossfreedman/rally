{% extends "mobile/layout.html" %}
{% set show_back_arrow = True %}

{% block content %}
<div class="max-w-lg mx-auto px-2 bg-gray-50 min-h-screen pb-8">
  <!-- Consistent Header -->
  <div class="flex items-center gap-3 mt-4 mb-2 px-4">
    <div class="bg-white rounded-md flex items-center justify-center h-12 w-12 mr-3">
      <i class="fas fa-user-search text-black text-3xl"></i>
    </div>
    <div>
      <div class="text-2xl font-bold leading-tight">Player Search</div>
      <div class="text-base text-gray-500 mt-1">Find and analyze any player's performance</div>
    </div>
  </div>
  
  <!-- Search Form -->
  <form method="get" class="mb-4">
    <div class="grid grid-cols-1 gap-4">
      <div>
        <label for="first_name" class="block font-bold mb-2 text-lg text-primary">First Name</label>
        <input 
          type="text" 
          name="first_name" 
          id="first_name"
          value="{{ first_name or '' }}"
          placeholder="Enter first name..."
          class="form-input w-full py-2 px-4 text-base font-medium border-2 border-primary text-gray-900 bg-white rounded-lg shadow-sm focus:ring-2 focus:ring-primary focus:border-primary transition"
        />
      </div>
      
      <div>
        <label for="last_name" class="block font-bold mb-2 text-lg text-primary">Last Name</label>
        <input 
          type="text" 
          name="last_name" 
          id="last_name"
          value="{{ last_name or '' }}"
          placeholder="Enter last name..."
          class="form-input w-full py-2 px-4 text-base font-medium border-2 border-primary text-gray-900 bg-white rounded-lg shadow-sm focus:ring-2 focus:ring-primary focus:border-primary transition"
        />
      </div>
      
      <div>
        <button 
          type="submit" 
          class="w-full py-3 px-6 bg-primary text-white font-bold text-lg rounded-lg shadow-lg hover:bg-primary-dark focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all"
        >
          <i class="fas fa-search mr-2"></i>Search Player
        </button>
      </div>
    </div>
  </form>
  
  {% if search_attempted %}
    {% if player_found %}
      <!-- Redirect will happen via JavaScript -->
      <script>
        window.location.href = '/mobile/player-detail/{{ player_name | urlencode }}';
      </script>
    {% else %}
      <!-- No Player Found Message -->
      <div class="mb-4 p-4 rounded-xl shadow-lg bg-red-100 border-l-4 border-red-500 flex items-center">
        <i class="fas fa-exclamation-triangle text-red-600 text-2xl mr-3"></i>
        <div>
          <div class="font-bold text-red-800 text-lg">Player Not Found</div>
          <div class="text-red-700">No player found with the name "{{ search_name }}". Please check the spelling and try again.</div>
        </div>
      </div>
    {% endif %}
  {% endif %}
  
  <!-- Help Card -->
  <div class="mb-4 p-4 rounded-xl shadow-lg bg-blue-100 border-l-4 border-blue-500 flex items-start">
    <i class="fas fa-info-circle text-blue-600 text-2xl mr-3 mt-1"></i>
    <div>
      <div class="font-bold text-blue-800 text-lg mb-2">Search Tips</div>
      <ul class="text-blue-700 space-y-1">
        <li>• Enter both first and last name for best results</li>
        <li>• Use exact spelling as it appears in match records</li>
        <li>• Player must have played matches to appear in results</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %} 