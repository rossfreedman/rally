{% extends "mobile/layout.html" %}
{% set show_back_arrow = False %}

{% block title %}Lineup Escrow™ Sent | Rally{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50">
    
    <!-- Success Animation Container -->
    <div class="flex flex-col items-center justify-center min-h-screen px-4 py-8">
        
        <!-- Main Success Card -->
        <div class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden max-w-md w-full transform transition-all duration-500 animate-fade-in">
            
            <!-- Success Header -->
            <div class="bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-8 text-center relative overflow-hidden">
                <!-- Background Pattern -->
                <div class="absolute inset-0 opacity-10">
                    <div class="absolute top-0 left-0 w-20 h-20 bg-white rounded-full -translate-x-10 -translate-y-10"></div>
                    <div class="absolute bottom-0 right-0 w-16 h-16 bg-white rounded-full translate-x-8 translate-y-8"></div>
                </div>
                
                <!-- Success Icon -->
                <div class="relative z-10">
                    <div class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm border border-white border-opacity-30">
                        <i class="fas fa-check-circle text-white text-3xl animate-bounce"></i>
                    </div>
                    
                    <h1 class="text-2xl font-bold text-white mb-2">
                        Lineup Escrow™ Sent!
                    </h1>
                    <p class="text-green-100 text-sm">
                        Your message has been delivered successfully
                    </p>
                </div>
            </div>
            
            <!-- Content Section -->
            <div class="p-6 space-y-6">
                
                <!-- Recipient Info -->
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center mr-3">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                        <div>
                            <p class="text-xs text-blue-600 font-medium uppercase tracking-wide">Sent to</p>
                            <p id="recipientName" class="text-lg font-semibold text-gray-900">[Recipient]</p>
                        </div>
                    </div>
                </div>
                
                <!-- Message Preview -->
                <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                    <div class="flex items-center mb-3">
                        <i class="fas fa-envelope text-gray-500 mr-2"></i>
                        <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">Message</h3>
                    </div>
                    <div class="bg-white rounded-lg p-3 border border-gray-200">
                        <pre id="messageBody" class="whitespace-pre-wrap text-gray-700 text-sm leading-relaxed font-mono"></pre>
                    </div>
                </div>
                
                <!-- Lineup Preview -->
                <div class="bg-gray-50 rounded-xl p-4 border border-gray-200">
                    <div class="flex items-center mb-3">
                        <i class="fas fa-users text-gray-500 mr-2"></i>
                        <h3 class="text-sm font-semibold text-gray-700 uppercase tracking-wide">Lineup</h3>
                    </div>
                    <div class="bg-white rounded-lg p-3 border border-gray-200">
                        <pre id="lineupText" class="whitespace-pre-wrap text-gray-700 text-sm leading-relaxed font-mono"></pre>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="space-y-3 pt-4">
                    <!-- Primary Action -->
                    <button 
                        onclick="window.location.href='/mobile'" 
                        class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl px-6 py-4 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 font-semibold text-base flex items-center justify-center group"
                    >
                        <i class="fas fa-home mr-2 group-hover:translate-x-1 transition-transform duration-200"></i>
                        Back to Home
                    </button>
                    
                    <!-- Secondary Action -->
                    <button 
                        onclick="window.location.href='/mobile/create-lineup'" 
                        class="w-full bg-white text-gray-700 rounded-xl px-6 py-3 border-2 border-gray-200 hover:border-gray-300 transition-all duration-200 font-medium text-sm flex items-center justify-center group"
                    >
                        <i class="fas fa-plus mr-2 group-hover:rotate-90 transition-transform duration-200"></i>
                        Send Another Escrow
                    </button>
                </div>
                
                <!-- Footer Note -->
                <div class="text-center pt-4">
                    <p class="text-xs text-gray-500">
                        <i class="fas fa-shield-alt mr-1"></i>
                        Lineup Escrow™ - Fair lineup disclosure between captains
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Floating Success Indicators -->
        <div class="fixed top-8 right-8 space-y-2 pointer-events-none">
            <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
            <div class="w-2 h-2 bg-blue-400 rounded-full animate-pulse delay-100"></div>
            <div class="w-1 h-1 bg-purple-400 rounded-full animate-pulse delay-200"></div>
        </div>
    </div>
</div>

<style>
/* Custom animations */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.animate-fade-in {
    animation: fade-in 0.6s ease-out;
}

/* Gradient backgrounds */
.bg-gradient-to-br {
    background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
}

.from-green-50 {
    --tw-gradient-from: #f0fdf4;
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(240, 253, 244, 0));
}

.via-blue-50 {
    --tw-gradient-via: #eff6ff;
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-via), var(--tw-gradient-to, rgba(239, 246, 255, 0));
}

.to-purple-50 {
    --tw-gradient-to: #faf5ff;
}

.bg-gradient-to-r {
    background-image: linear-gradient(to right, var(--tw-gradient-stops));
}

.from-green-500 {
    --tw-gradient-from: #10b981;
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(16, 185, 129, 0));
}

.to-emerald-600 {
    --tw-gradient-to: #059669;
}

.from-blue-600 {
    --tw-gradient-from: #2563eb;
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(37, 99, 235, 0));
}

.to-blue-700 {
    --tw-gradient-to: #1d4ed8;
}

.from-blue-50 {
    --tw-gradient-from: #eff6ff;
    --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(239, 246, 255, 0));
}

.to-indigo-50 {
    --tw-gradient-to: #eef2ff;
}

/* Enhanced shadows */
.shadow-xl {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.hover\:shadow-xl:hover {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

/* Border radius */
.rounded-2xl {
    border-radius: 1rem;
}

/* Spacing */
.space-y-6 > * + * {
    margin-top: 1.5rem;
}

.space-y-3 > * + * {
    margin-top: 0.75rem;
}

/* Transitions */
.transition-all {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

.duration-300 {
    transition-duration: 300ms;
}

.duration-500 {
    transition-duration: 500ms;
}

.duration-200 {
    transition-duration: 200ms;
}

/* Transforms */
.transform {
    transform: translateZ(0);
}

.hover\:scale-105:hover {
    transform: scale(1.05);
}

/* Animations */
.animate-bounce {
    animation: bounce 1s infinite;
}

.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.delay-100 {
    animation-delay: 100ms;
}

.delay-200 {
    animation-delay: 200ms;
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
        transform: translate3d(0, 0, 0);
    }
    40%, 43% {
        transform: translate3d(0, -30px, 0);
    }
    70% {
        transform: translate3d(0, -15px, 0);
    }
    90% {
        transform: translate3d(0, -4px, 0);
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Typography */
.font-mono {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.tracking-wide {
    letter-spacing: 0.05em;
}

.uppercase {
    text-transform: uppercase;
}

/* Colors */
.text-green-100 {
    color: #dcfce7;
}

.text-green-400 {
    color: #4ade80;
}

.text-blue-400 {
    color: #60a5fa;
}

.text-purple-400 {
    color: #a78bfa;
}

.bg-green-400 {
    background-color: #4ade80;
}

.bg-blue-400 {
    background-color: #60a5fa;
}

.bg-purple-400 {
    background-color: #a78bfa;
}

.bg-opacity-20 {
    background-color: rgba(255, 255, 255, 0.2);
}

.border-opacity-30 {
    border-color: rgba(255, 255, 255, 0.3);
}

/* Backdrop blur */
.backdrop-blur-sm {
    backdrop-filter: blur(4px);
}

/* Responsive design */
@media (max-width: 640px) {
    .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    .py-8 {
        padding-top: 2rem;
        padding-bottom: 2rem;
    }
    
    .text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
    }
    
    .text-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Add entrance animation delay
    setTimeout(() => {
        document.querySelector('.animate-fade-in').style.opacity = '1';
    }, 100);
    
    // Load and display data
    const data = JSON.parse(localStorage.getItem('escrowConfirmation') || '{}');
    
    // Update recipient name with animation
    const recipientElement = document.getElementById('recipientName');
    if (recipientElement) {
        recipientElement.textContent = data.recipientName || '[Recipient]';
        recipientElement.style.opacity = '0';
        setTimeout(() => {
            recipientElement.style.transition = 'opacity 0.5s ease-in';
            recipientElement.style.opacity = '1';
        }, 300);
    }
    
    // Update message body
    const messageElement = document.getElementById('messageBody');
    if (messageElement) {
        messageElement.textContent = data.messageBody || '';
        messageElement.style.opacity = '0';
        setTimeout(() => {
            messageElement.style.transition = 'opacity 0.5s ease-in';
            messageElement.style.opacity = '1';
        }, 500);
    }
    
    // Update lineup text
    const lineupElement = document.getElementById('lineupText');
    if (lineupElement) {
        lineupElement.textContent = data.lineup || '';
        lineupElement.style.opacity = '0';
        setTimeout(() => {
            lineupElement.style.transition = 'opacity 0.5s ease-in';
            lineupElement.style.opacity = '1';
        }, 700);
    }
    
    // Clear localStorage after displaying
    setTimeout(() => {
        localStorage.removeItem('escrowConfirmation');
    }, 1000);
    
    // Add hover effects to buttons
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
        button.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-2px)';
        });
        
        button.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
});
</script>
{% endblock %} 