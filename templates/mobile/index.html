{% extends "mobile/layout.html" %}

{% block content %}
<div class="container mx-auto px-4 py-6">
  <!-- Welcome Message -->
  <div class="welcome-section text-center mb-8">
    <h1 class="text-2xl font-bold text-gray-800">
      {% if session_data and session_data.user and session_data.user.first_name %}
        Welcome back, {{ session_data.user.first_name }}!
      {% else %}
        Welcome back!
      {% endif %}
    </h1>
    {% if session_data and session_data.user and session_data.user.series and session_data.user.club %}
    <p class="text-sm text-gray-500 mt-2" id="userSeriesDisplay">
      <span id="seriesNameDisplay">{{ session_data.user.series }}</span> @ {{ session_data.user.club }}
    </p>
    <script>
             // Apply series alias transformation to the display
       document.addEventListener('DOMContentLoaded', function() {
         const seriesElement = document.getElementById('seriesNameDisplay');
         if (seriesElement) {
           const seriesName = seriesElement.textContent;
           const numberMatch = seriesName.match(/(\d+)(\s+\w+)*$/);
           if (numberMatch) {
             const seriesNumber = numberMatch[1];
             const suffix = numberMatch[2] || '';
             seriesElement.textContent = `Series ${seriesNumber}${suffix}`;
           }
         }
       });
    </script>
    {% endif %}
    
    <!-- Profile completion notification -->
    {% if session_data and session_data.user and session_data.authenticated and (session_data.user.ad_deuce_preference is none or session_data.user.ad_deuce_preference == "" or session_data.user.dominant_hand is none or session_data.user.dominant_hand == "") %}
    <div class="mt-4 p-3 rounded-lg shadow-sm" style="background-color: #FEF3C7; border: 1px solid #F59E0B;">
      <div class="flex items-center gap-2">
        <i class="fas fa-info-circle text-amber-600"></i>
        <span class="text-sm text-gray-800">
          <span class="font-medium">Reminder to complete your profile:</span> Add 
          {% if (session_data.user.ad_deuce_preference is none or session_data.user.ad_deuce_preference == "") and (session_data.user.dominant_hand is none or session_data.user.dominant_hand == "") %}
            ad/deuce preference and dominant hand in your <a href="/mobile/settings#player-preferences" class="underline font-medium text-amber-800 hover:text-amber-900">profile</a>.
          {% elif session_data.user.ad_deuce_preference is none or session_data.user.ad_deuce_preference == "" %}
            ad/deuce preference in your <a href="/mobile/settings#player-preferences" class="underline font-medium text-amber-800 hover:text-amber-900">profile</a>.
          {% else %}
            dominant hand in your <a href="/mobile/settings#player-preferences" class="underline font-medium text-amber-800 hover:text-amber-900">profile</a>.
          {% endif %}
        </span>
      </div>
    </div>
    {% endif %}
  </div>

  <!-- Act Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Act
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4" aria-label="Act">
      <a href="/mobile/availability" class="ios-card bg-blue-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-calendar text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">View Schedule</span>
        </div>
      </a>
      
      <a href="/mobile/availability-calendar" class="ios-card bg-green-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-calendar-check text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Update Availability</span>
        </div>
      </a>
      
      <a href="/mobile/track-byes-courts" class="ios-card bg-orange-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-clipboard-check text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Track Assignments</span>
        </div>
      </a>
      
      <a href="/mobile/polls" class="ios-card bg-teal-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-poll text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Respond to Polls</span>
        </div>
      </a>
      
      <a href="/mobile/reserve-court" class="ios-card bg-red-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-table-tennis text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Reserve a Court</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Connect Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Connect
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4" aria-label="Connect">
      <a href="/mobile/find-people-to-play" class="ios-card bg-purple-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-user-friends text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Search Players</span>
        </div>
      </a>
      
      <a href="/mobile/pickup-games" class="ios-card bg-indigo-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-calendar-plus text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">View Pickup Games</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Analyze Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Analyze
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4" aria-label="Analyze">
      <a href="/mobile/analyze-me" class="ios-card bg-indigo-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-user text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Me</span>
        </div>
      </a>
      
      <a href="/mobile/myteam" class="ios-card bg-rose-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-users text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">My Team</span>
        </div>
      </a>
      
      <a href="/mobile/myseries" class="ios-card bg-orange-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-trophy text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">My Series</span>
        </div>
      </a>
      
      <a href="/mobile/my-club" class="ios-card bg-cyan-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-building text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">My Club</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Prepare Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Prepare
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4 mb-4" aria-label="Prepare">
      <a href="/mobile/player-search" class="ios-card bg-pink-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-search text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Scout Competition</span>
        </div>
      </a>
      
      <a href="/mobile/teams-players" class="ios-card bg-violet-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-users text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Research Opponent Teams</span>
        </div>
      </a>
    </div>
    
    <!-- Matchup Simulator - Full Width -->
    <div class="grid grid-cols-1">
      <a href="/mobile/matchup-simulator" class="ios-card bg-slate-700 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-chart-line text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold mb-1">Matchup Simulator</span>
          <span class="block text-sm opacity-80">Predict match outcomes</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Improve Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Improve
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4" aria-label="Improve">
      <a href="/mobile/improve" class="ios-card bg-emerald-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-chart-line text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Improve My Game</span>
        </div>
      </a>
      
      <a href="/mobile/schedule-lesson" class="ios-card bg-cyan-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-user-graduate text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Schedule Lesson with Pro</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Captain Section -->
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Captain's Corner
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-2 gap-4" aria-label="Captain's Corner">
      <a href="/mobile/team-schedule" class="ios-card bg-sky-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-calendar text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Team Schedule</span>
        </div>
      </a>
      
      <a href="/mobile/find-subs" class="ios-card bg-lime-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-user-plus text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Find Subs</span>
        </div>
      </a>
      
      <a href="/mobile/lineup-selection" class="ios-card bg-amber-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-clipboard-list text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Create Lineup</span>
        </div>
      </a>
      
      <a href="/mobile/lineup-escrow" class="ios-card bg-purple-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-lock text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Lineup Escrow</span>
        </div>
      </a>
      
      <a href="/mobile/polls" class="ios-card bg-teal-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-poll text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Team Polls</span>
        </div>
      </a>
      
      <a href="/mobile/track-byes-courts" class="ios-card bg-orange-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-edit text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Update Byes & Assignments</span>
        </div>
      </a>
      
      <a href="/mobile/practice-times" class="ios-card bg-yellow-600 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-clock text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Practice Times</span>
        </div>
      </a>
    </div>
  </div>

  <!-- Admin Section - Only show for admin users -->
  {% if session_data and session_data.user and session_data.user.is_admin %}
  <div class="icon-section mb-8">
    <div class="flex items-center justify-center mb-6">
      <div class="flex-grow border-t-2 border-gray-400"></div>
      <div class="section-header text-xl font-bold px-4 text-center">
        Admin
      </div>
      <div class="flex-grow border-t-2 border-gray-400"></div>
    </div>
    <div class="icon-grid grid grid-cols-1 gap-4" aria-label="Admin">
      <a href="/admin" class="ios-card bg-gray-700 text-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
        <i class="fas fa-cog text-white text-3xl mb-4 opacity-90"></i>
        <div class="text-left">
          <span class="block text-lg font-semibold">Admin Panel</span>
        </div>
      </a>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %} 